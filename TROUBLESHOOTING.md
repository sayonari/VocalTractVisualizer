# トラブルシューティングガイド

## よくある問題と解決方法

### 1. "Array buffer allocation failed" エラー

**症状**: 録音開始時にメモリ割り当てエラーが発生

**原因**: 音声バッファのサイズが大きすぎる

**解決方法**: 
- 既に修正済み（バッファサイズを削減）
- 開発サーバーを再起動してください
  ```bash
  # Ctrl+C でサーバー停止後
  npm run dev
  ```

### 2. ScriptProcessorNode 非推奨警告

**症状**: コンソールに非推奨警告が表示される

**原因**: Web Audio APIの古いノードを使用

**対応**: 
- 現在は互換性のため使用継続
- 将来的にAudioWorkletNodeに移行予定
- 動作には影響ありません

### 3. マイクアクセスエラー

**症状**: マイクへのアクセスが拒否される

**解決方法**:
1. ブラウザの設定でマイクアクセスを許可
2. HTTPSまたはlocalhostでアクセス
3. 他のアプリがマイクを使用していないか確認

### 4. 3D表示が表示されない

**症状**: 3D声道モデルが真っ白

**解決方法**:
1. WebGLサポートを確認
2. ブラウザのハードウェアアクセラレーションを有効化
3. グラフィックドライバを更新

### 5. 音声解析が動作しない

**症状**: 波形は表示されるが解析結果が更新されない

**解決方法**:
1. コンソールでエラーを確認
2. ブラウザを更新（F5）
3. キャッシュをクリアして再読み込み（Ctrl+Shift+R）

### 6. npm install エラー

**症状**: 権限エラーでインストール失敗

**解決方法**:
```bash
# ローカルキャッシュを使用
npm install --cache ./.npm-cache

# または権限を修正
sudo chown -R $(whoami) ~/.npm
```

### 7. パフォーマンスの問題

**症状**: 動作が重い、遅延が大きい

**解決方法**:
1. Chrome DevToolsでパフォーマンスプロファイリング
2. 解析パラメータを調整（窓サイズを小さく）
3. 不要なタブを閉じる
4. GPUアクセラレーションを確認

## デバッグ方法

### コンソールログの確認
```javascript
// F12でDevToolsを開く
// Consoleタブでエラーを確認
```

### ネットワークタブ
- リソースの読み込み状況を確認
- 404エラーがないか確認

### パフォーマンスモニタ
- Chrome: F12 → Performance
- 録音開始してプロファイリング

## 問題が解決しない場合

1. ブラウザのキャッシュをクリア
2. 別のブラウザで試す
3. `npm run build` でプロダクションビルドを試す
4. GitHubのIssuesで報告